(()=>{"use strict";const t=function(t){let e=0;return{length:t,numHits:e,shipIsSunk:!1,hit:function(){e+=1},isSunk:function(){return t===e}}},e=function(){let e=[],r=[],n=[[],[],[],[],[],[],[],[],[],[]];for(let t=0;t<10;t++)for(let e=0;e<10;e++)n[t][e]={isShip:!1,isAttacked:!1};const o={carrier:5,battleship:4,cruiser:3,submarine:3,destroyer:2};function i(t,e,r,o){if("horizontal"===o){if(t+r>n.length)return!1;for(let o=t;o<t+r;o++)if(n[o][e].isShip)return!1}else if("vertical"===o){if(e+r>n.length)return!1;for(let o=e;o<e+r;o++)if(n[t][o].isShip)return!1}return!0}return{missedAttacks:e,ships:r,placeShips:function(){for(const[e,a]of Object.entries(o)){const o=t(a);r.push(o);let s=parseInt(prompt(`Enter x coordinate for ${e}`)),c=parseInt(prompt(`Enter y coordinate for ${e}`)),u=prompt(`Enter orientation for ${e}`);for(;!i(s,c,a,u);)alert("Invalid placement. Please enter new coordinates."),s=parseInt(prompt(`Enter x coordinate for ${e}`)),c=parseInt(prompt(`Enter y coordinate for ${e}`)),u=prompt(`Enter orientation for ${e}`);if("horizontal"===u)for(let t=s;t<s+a;t++)n[t][c].isShip=!0,n[t][c].ship=o;else if("vertical"===u)for(let t=c;t<c+a;t++)n[s][t].isShip=!0,n[s][t].ship=o}},receiveAttack:function(t,r){n[t][r].isAttacked=!0,n[t][r].isShip?n[t][r].ship.hit():e.push({x:t,y:r})},allSunk:function(){return r.every((t=>t.isSunk()))}}},r={name:"Human",gameboard:e(),attack:function(t,e,r){t.receiveAttack(e,r)}},n={name:"Computer",gameboard:e(),attack:function(t){let e=Math.floor(10*Math.random()),r=Math.floor(10*Math.random());t.receiveAttack(e,r)}};r.gameboard.placeShips();let o=r;(()=>{document.getElementById("human-board");const t=document.getElementById("computer-board");return document.getElementById("message"),t.addEventListener("click",(function(t){!function(t,e){let i;i=o===r?n.gameboard:r.gameboard,o.attack(i,t,e)}(t.target.dataset.x,t.target.dataset.y)})),{renderBoards:function(){}}})().renderBoards()})();